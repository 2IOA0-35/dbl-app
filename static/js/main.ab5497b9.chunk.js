(this["webpackJsonpdbl-app"]=this["webpackJsonpdbl-app"]||[]).push([[0],{443:function(e,t,n){},450:function(e,t,n){},451:function(e,t,n){},524:function(e,t,n){},525:function(e,t,n){},526:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},589:function(e,t,n){},590:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(45),r=n.n(o),c=n(55),s=(n(443),n(47)),l=n(41),d=n.n(l),u=n(65),h=n(22),b=n(160),j=n(608),f=n(301),g=n(599),p=n(609),m=n(607),x=n(145),O=n(81),y=n(600),v=n(52),w=n(196),k=n(12),D=function(e){return e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{date:new Date(e.date)})}))},S=[{key:"Enron",filename:"Enron",get:function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=D,e.next=3,n.e(3).then(n.t.bind(null,636,3));case 3:return e.t1=e.sent.default,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),length:31041}],C=new(n(282).a)("DataStorageDB");C.version(1).stores({data:"key, data, filename, selected"});var E=C,A=n(3),N=Object(a.createContext)();function T(e){var t=Object(a.useState)(void 0),n=Object(h.a)(t,2),i=n[0],o=n[1],r=Object(a.useState)(""),c=Object(h.a)(r,2),s=c[0],l=c[1],b=Object(a.useState)(!0),j=Object(h.a)(b,2),f=j[0],g=j[1];Object(a.useEffect)(Object(u.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("DATASET_SELECTED"),n=[],S.forEach((function(e){n.push(Object(k.a)(Object(k.a)({},e),{},{builtin:!0}))})),e.next=5,E.data.each((function(e){n.push(Object(k.a)(Object(k.a)({},e),{},{get:function(){return e.data},length:e.data.length}))}));case 5:if(null!=(a=n.find((function(e){return e.filename==t})))){e.next=9;break}return g(!1),e.abrupt("return");case 9:return e.t0=o,e.next=12,a.get();case 12:e.t1=e.sent,(0,e.t0)(e.t1),l(t),g(!1);case 16:case"end":return e.stop()}}),e)}))),[]);return Object(A.jsx)(N.Provider,{value:[i,o,s,function(e){localStorage.setItem("DATASET_SELECTED",e),l(e)},f],children:e.children})}var I=b.a.Option,M=j.a.Title,z=j.a.Text;function F(){var e=i.a.useContext(N),t=Object(h.a)(e,4),n=(t[0],t[1]),a=(t[2],t[3]),o=Object(s.f)();function r(){return(r=Object(u.a)(d.a.mark((function e(t){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.b.loading({content:"Loading dataset...",key:"Dataset-Load"}),e.prev=1,i=S.find((function(e){return e.key==t})),a(i.filename),e.t0=n,e.next=7,i.get();case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=16;break;case 11:return e.prev=11,e.t2=e.catch(1),f.b.error("An error occurred while loading the dataset."),console.error("Error while loading dataset: ",e.t2),e.abrupt("return");case 16:f.b.destroy("Dataset-Load"),f.b.success("Successfully loaded the dataset."),o.push("/vis");case 19:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}return console.log("PUBLIC_PATH","/dbl-app"),Object(A.jsxs)(g.a,{style:{textAlign:"center"},className:"container",children:[Object(A.jsx)(M,{style:{padding:"20px",width:"100%",textAlign:"center",margin:"20px 0"},children:Object(A.jsx)(p.a,{style:{width:"500px",maxWidth:"100%"},src:"".concat("/dbl-app","/res/envision_banner.png"),preview:!1,alt:"Envision Logo"})}),Object(A.jsx)(m.a,{title:"How to Use Our Data Analysis Tool ",className:"card",style:{width:"80%"},children:Object(A.jsx)(z,{children:Object(A.jsxs)(x.a,{gutter:[48,0],children:[Object(A.jsxs)(O.a,{xs:{span:24,offset:0},lg:{span:15,offset:0},xxl:{span:12,offset:3},style:{textAlign:"justify"},children:[Object(A.jsxs)("p",{children:["Welcome to our Data Analysis and Visualization tool! The first step is quite easy. You can choose to either pick one of our predefined datasets, or you can upload your own. When uploading your own dataset, please make sure that it satisfies the requirements. For more information about the dataset requirements, please go to the ",Object(A.jsx)(c.b,{to:"/dataUpload",children:"Data Upload"})," page."]}),Object(A.jsxs)("p",{children:["Once you've selected a dataset, or uploaded your own, you can go to the",Object(A.jsx)(c.b,{to:"/vis",children:" Visualize"})," page to explore the data. We provide tools to easily view the relations between people in email networks. This webapp can, for instance, be used to determine which jobs in a company tend to communicate with each other."]}),Object(A.jsxs)("p",{children:["If you're stuck and don't know how to use the Visualize page, you can view the 'User Manual' at the bottom of the sidebar. Additionally, some options have a little",Object(A.jsx)(y.a,{content:"More info about an option...",title:"Info",placement:"top",children:Object(A.jsx)(w.a,{style:{color:"#067f5b",margin:"0 5px"}})}),"next to them. When you hover over this icon, you will be presented with additional information regarding this specific option."]})]}),Object(A.jsxs)(O.a,{xs:24,lg:9,xxl:6,children:[Object(A.jsx)("p",{children:Object(A.jsx)(b.a,{style:{width:"100%"},placeholder:"Choose from a Sample Dataset",size:"large",onChange:function(e){return r.apply(this,arguments)},children:S.map((function(e){return Object(A.jsxs)(I,{value:e.key,children:[e.key," (",e.length.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")," e-mails)"]},e.key)}))})}),Object(A.jsx)("p",{children:"or"}),Object(A.jsx)("p",{children:Object(A.jsx)(c.b,{to:"/dataUpload",children:Object(A.jsx)(v.a,{style:{width:"100%"},type:"primary",size:"large",children:"Upload a Dataset"})})})]})]})})}),Object(A.jsx)(m.a,{title:"General Information",className:"card",style:{width:"80%"},children:Object(A.jsxs)(z,{children:[Object(A.jsxs)(x.a,{gutter:[48,0],children:[Object(A.jsx)(O.a,{xs:{span:24,offset:0},lg:{span:6,offset:0},xxl:{span:4,offset:3},children:Object(A.jsx)(p.a,{width:200,style:{filter:"grayscale(100%)"},src:"".concat("/dbl-app","/res/tue_logo.png"),preview:!1,alt:"TU/e Logo"})}),Object(A.jsxs)(O.a,{xs:24,lg:18,xxl:14,style:{textAlign:"justify"},children:[Object(A.jsxs)("p",{children:["This webapp was designed to visualize and display the emails sent between the employees of ",Object(A.jsx)("a",{href:"https://en.wikipedia.org/wiki/Enron",children:"Enron. "}),"It should, however, be possible to use any dataset that follows the same structure. If you want to use a custom dataset, you can do so using the ",Object(A.jsx)(c.b,{to:"/vis",children:"Data Upload"})," page, or by clicking the button above."]}),Object(A.jsxs)("p",{children:["This website has been commissioned by",Object(A.jsx)("a",{href:"https://www.tue.nl/en/",children:" Eindhoven University of Technology "}),"for the course ",Object(A.jsx)("code",{children:"DBL HTI + Webtech"}),". The purpose of this course is to work together as a team to make a data visualization tool. The website was constructed over a period of roughly 3 months by a team of 6 members."]}),Object(A.jsx)("p",{children:"If you want to know more about the individual visualizations and team members, please check out the About page."})]})]}),Object(A.jsx)("p",{children:Object(A.jsx)(c.b,{to:"/about",children:Object(A.jsx)(v.a,{type:"primary",size:"large",children:"About"})})})]})})]})}n(450);var R=j.a.Title,B=j.a.Text;function H(){return Object(A.jsxs)("div",{className:"container",children:[Object(A.jsx)(R,{style:{padding:"20px",width:"100%",textAlign:"center"},children:"About the visualisations"}),Object(A.jsx)(m.a,{className:"left card",title:"Hierarchical Edge Bundling",cover:Object(A.jsx)("img",{alt:"Hierarchical Edge Bundling",style:{width:"50%",marginLeft:"auto",marginRight:"auto",marginTop:"5px"},src:"".concat("/dbl-app","/res/HEB.png")}),extra:Object(A.jsx)("a",{href:"https://observablehq.com/@d3/hierarchical-edge-bundling",target:"_blank",rel:"noreferrer",children:"Source"}),children:Object(A.jsxs)(B,{children:["This visualisation shows all nodes around a circle with their incoming and outgoing connections. These connections are colored when the user hovers over a node. Nodes can also be grouped together by displaying them next to eachother",Object(A.jsx)("br",{}),"This visualisation is well suited for this project, because it can easily show incoming and outgoing e-mails for the employees. The way of displaying the nodes and groups of nodes is very clear and can be used to explore the dataset in different ways."]})}),Object(A.jsx)(m.a,{className:"right card",title:"Disjoint Force-Directed Graph",cover:Object(A.jsx)("img",{alt:"Hierarchical Edge Bundling",style:{width:"50%",marginLeft:"auto",marginRight:"auto",marginTop:"5px"},src:"".concat("/dbl-app","/res/DFG.png")}),extra:Object(A.jsx)("a",{href:"https://observablehq.com/@d3/disjoint-force-directed-graph",target:"_blank",rel:"noreferrer",children:"Source"}),children:Object(A.jsxs)(B,{children:["This visualisation shows the nodes and their connections by drawing lines between them. It uses forces to keep the nodes from becoming cluttered and to enable grouping of certain nodes. The nodes can be different colors, which is also well suited for grouping nodes. It is disjoint because not all nodes have to be connected to eachother.",Object(A.jsx)("br",{}),"This visualisation is a good choice for this project because it can show the emails between employees by displaying connections between nodes. The physical grouping of nodes and the coloring of nodes can be used to analyse certain groups of nodes and their email behaviour."]})}),Object(A.jsx)(m.a,{title:"The D3 library",className:"left card",extra:Object(A.jsx)("a",{href:"https://d3js.org",target:"_blank",rel:"noreferrer",children:"Source"}),children:Object(A.jsxs)(B,{children:["D3 is a javascript library which enables powerful visualisations in javascript apps. It allows data to generate a Document Object Model (DOM) and change parts of the page based on the data. This means it is well suited for interactive visualisations. The library also has some examples of the visualisations used in this project, which allows for easy implementation into this webapp.",Object(A.jsx)("br",{}),"Since the team was not very experienced with visualizations for a webapp and the visualisations used in the project needed to be interactive D3 was an ideal choice for a visualisation library."]})}),Object(A.jsx)("hr",{style:{width:"80%"}}),Object(A.jsx)(R,{style:{padding:"20px",width:"100%",textAlign:"center"},children:"About us"}),Object(A.jsx)(m.a,{title:"Christine Jacob",className:"right card",children:Object(A.jsx)(B,{children:" I am a First Year student studying Bachelor of Computer Science. I worked on the Home Page, Interim Report and Navigation. Through this course I have developed an interest to learn about web development and learned how simple and logical it can be!"})}),Object(A.jsx)(m.a,{title:"Tom van Liempd",className:"left card",children:Object(A.jsx)(B,{children:"Hi, I am Tom. I am a first year student for the Computer Science Bachelor. For Envision I have mainly focussed on organisational work and setting up the base layer for our app. Since I already have quite extensive experience with web development and especially React (which Envision runs on), I have helped set-up various bits of the application. One of these is making the Enron dataset compatible with the Hierarchical Edge Bundling visualisation drawn by our visualisation library D3."})}),Object(A.jsx)(m.a,{title:"Aloys Riswick",className:"right card",children:Object(A.jsxs)(B,{children:[Object(A.jsx)("p",{children:"\n                        Hey there! \n                        My name is Aloys and I'm a fist year Computer Science students at the TU/e.\n                        Personally, I'm quite interested in web development, \n                        so working on this website was a fun experience for me. \n                        For this website I was heavily involved in the initial layout of the 'Visualize' page.\n                        I also worked on implementing the visualization together with the others.\n                        Apart from that I worked on some minor features and \n                        occasionally I fix margins or styles that are of by a few pixels. \n                        When I notice that something is just slightly off, I can't help but fix it, \n                        sometimes to the annoyance of my team members perhaps.\n                        "}),Object(A.jsx)("p",{children:"\n                        I really enjoyed this project and \n                        I believe that this is largely due to the amazing team I got to work with. \n                        I hope that I can use the experience gained from this project in my future endeavors and \n                        I wouldn't mind working with this team again!\n                        "})]})}),Object(A.jsx)(m.a,{title:"Hugo van Schalm",className:"left card",children:Object(A.jsx)(B,{children:"Hey, my name is Hugo and I'm a first year student at the Computer Science Bachelor. For this project I mostly helped creating some features for the visualisations, like panning, zooming and the legend. I had a lot of fun working on this project. I had to learn React and D3 from scratch, but to me that was a lot of fun."})}),Object(A.jsx)(m.a,{title:"Kristopher Alex Schlett",className:"right card",children:Object(A.jsx)(B,{children:"Hello! My name is Kris and I'm also a first year student taking the Bachelor of Computer Science and Engineering. When it comes to Envision, I contributed with mostly creating graph features such as variable node size, zooming/panning, and an Infobox. Working on this project was a very good, and interesting, experience as I have not worked on such a large scale product prior to Envision. In addition, learning the selected languages was a fun challenge since I had never used them beforehand."})}),Object(A.jsx)(m.a,{title:"Anke Staal",className:"left card",children:Object(A.jsx)(B,{children:"Hi! My name is Anke Staal and I am 20 years old. I am a second year Psychology & Technology student at the TU/e and I currently live in Eindhoven together with my six roommates. At the beginning I didn't have a lot of prior knowledge about anything related to HTML, CSS, JavaScript or React, so I believe I have learned a lot from this project. I enjoyed working together and making something that we are proud of and I hope that people like it."})})]})}var G=n(621),P=n(614),V=n(604),L=n(617),Y=n(606),W=n(602),J=n(620),U=(n(451),n(7)),q=n(9),_=n(10),K=n(161);function Z(){return new Worker(n.p+"static/js/parser-worker.85825848.worker.js")}function Q(e,t){return new Promise((function(n,a){var i=new Z;i.onmessage=function(e){switch(e.data.type){case"PROGRESS":t(e.data.percent);break;case"FINISHED":i.terminate(),n(e.data.data);break;case"PARSEERROR":i.terminate(),a(new $(e.data.msg))}},i.onerror=function(e){i.terminate(),a(e)},i.postMessage({reportProgress:null!=t,csvString:e})}))}function X(e,t){return new Promise((function(n,a){var i=new FileReader;i.addEventListener("load",(function(e){n(e.target.result)})),t&&i.addEventListener("progress",(function(e){var n=Math.round(e.loaded/e.total*100);t(n)})),i.addEventListener("error",(function(e){a(e)})),i.readAsText(e)}))}var $=function(e){Object(q.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(U.a)(this,n),(a=t.call(this,e)).name="ParseError",a}return n}(Object(K.a)(Error)),ee=n(304),te=n(58),ne=n(601),ae=V.a.Column;function ie(e){e.title;var t=e.onSwitch,n=i.a.useContext(N),a=Object(h.a)(n,4),o=(a[0],a[1]),r=a[2],c=a[3],s=i.a.useState(null),l=Object(h.a)(s,2),b=l[0],j=l[1],g=function(){var e=[];S.forEach((function(t){e.push(Object(k.a)(Object(k.a)({},t),{},{builtin:!0}))})),E.data.each((function(t){e.push(Object(k.a)(Object(k.a)({},t),{},{length:t.data.length}))})).then((function(){j(e)}))};return i.a.useEffect((function(){g()}),[]),Object(A.jsxs)(V.a,{dataSource:b,loading:null==b,pagination:!1,className:"datasets",rowSelection:{type:"radio",onChange:function(){var e=Object(u.a)(d.a.mark((function e(n,a){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.b.loading({content:"Loading dataset...",key:"Dataset-Change"}),i=a[0].data,!a[0].builtin){e.next=6;break}return e.next=5,a[0].get();case 5:i=e.sent;case 6:o(i),c(a[0].filename),f.b.destroy("Dataset-Change"),f.b.success("Successfully loaded the dataset."),t&&t();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),selectedRowKeys:null===b||void 0===b?void 0:b.filter((function(e){return e.filename==r})).map((function(e){return e.key}))},children:[Object(A.jsx)(ae,{title:"Name",dataIndex:"filename"},"filename"),Object(A.jsx)(ae,{title:"Row Count",render:function(e,t){var n;return null===t||void 0===t||null===(n=t.length)||void 0===n?void 0:n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}),Object(A.jsx)(ae,{render:function(e,t){return t.builtin?Object(A.jsx)("span",{style:{color:"#888"},children:"Preset"}):Object(A.jsx)(te.a,{title:"Delete Dataset",placement:"bottom",children:Object(A.jsx)(ne.a,{title:"Are you sure you want to delete this dataset?",onConfirm:Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.data.where("key").equals(t.key).delete();case 2:r==t.filename&&(c(null),o(null)),g();case 4:case"end":return e.stop()}}),e)}))),children:Object(A.jsx)(ee.a,{style:{fontSize:20,color:"#067f5b",marginTop:3,cursor:"pointer"}})})})}},"action")]})}var oe=j.a.Title,re=j.a.Text;function ce(){var e=i.a.useContext(N),t=Object(h.a)(e,4),n=(t[0],t[1]),a=t[2],o=t[3],r=function(){var e=Object(u.a)(d.a.mark((function e(t){var i,r,c,s,l,u,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.onProgress,r=t.onError,c=t.onSuccess,s=t.file,e.prev=1,(l=s.name).endsWith(".csv")||(l+=".csv"),e.next=6,E.data.get(l);case 6:if(e.t0=e.sent,e.t1=void 0,e.t0===e.t1){e.next=20;break}return e.next=11,new Promise((function(e){return P.a.confirm({title:"Overwrite File",icon:Object(A.jsx)(J.a,{}),content:"A file with the same name was already uploaded previously. Do you want to overwrite it?",okText:"Overwrite",onOk:function(){e(!0)},onCancel:function(){e(!1)}})}));case 11:if(!e.sent){e.next=18;break}return e.next=15,E.data.where("filename").equals(l).delete();case 15:a==l&&(o(null),n(null)),e.next=20;break;case 18:return r(),e.abrupt("return");case 20:return e.next=22,X(s,(function(e){console.log("progress read",e),i({percent:e/2})}));case 22:return u=e.sent,e.next=25,Q(u,(function(e){console.log("progress parse",e),i({percent:e/2+49})}));case 25:h=e.sent,E.data.put({key:l,data:h,filename:l}),i({percent:100}),o(l),n(h),c("Successfully parsed ".concat(h.length," rows.")),e.next=38;break;case 33:e.prev=33,e.t2=e.catch(1),console.error(e.t2),n(null),r(e.t2);case 38:case"end":return e.stop()}}),e,null,[[1,33]])})));return function(t){return e.apply(this,arguments)}}(),s=Object(A.jsxs)("div",{children:[Object(A.jsxs)("p",{children:["The CSV file should consist of ",Object(A.jsx)("br",{}),"the following columns and types:"]}),Object(A.jsx)(V.a,{dataSource:[{key:"date",name:"date",type:"Date"},{key:"fromID",name:"fromID",type:"number"},{key:"fromEmail",name:"fromEmail",type:"string"},{key:"fromJobtitle",name:"fromJobtitle",type:"string"},{key:"toId",name:"toId",type:"number"},{key:"toEmail",name:"toEmail",type:"string"},{key:"toJobtitle",name:"toJobtitle",type:"string"},{key:"messageType",name:"messageType",type:"TO | CC"},{key:"sentiment",name:"sentiment",type:"number"}],columns:[{title:"Column Name",dataIndex:"name",key:"name",width:"20px"},{title:"Data Type",dataIndex:"type",key:"type",width:1}],pagination:!1,size:"small"})]});return Object(A.jsxs)(g.a,{style:{textAlign:"center"},className:"container",children:[Object(A.jsx)(oe,{style:{padding:"20px",width:"100%",textAlign:"center"},children:"Upload Dataset"}),Object(A.jsx)(m.a,{className:"card",style:{width:"80%"},children:Object(A.jsxs)(re,{children:[Object(A.jsxs)("p",{children:["Please upload dataset in CSV format:",Object(A.jsx)(y.a,{content:s,placement:"bottom",children:Object(A.jsx)(L.a,{count:Object(A.jsx)(w.a,{style:{color:"#067f5b",lineHeight:"22px",marginLeft:"5px"}})})})]}),Object(A.jsx)(Y.a,{customRequest:r,accept:".csv",onRemove:function(){n(null),o(null)},maxCount:1,progress:{strokeWidth:5,showInfo:!0},className:"data-upload",onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?f.b.success("".concat(e.file.name," file uploaded successfully.")):"error"===e.file.status&&f.b.error("".concat(e.file.name," file upload failed."),5)},children:Object(A.jsxs)(v.a,{type:"primary",size:"large",children:[Object(A.jsx)(G.a,{})," Upload File"]})}),Object(A.jsx)("p",{style:{margin:"20px 0 0 10px"},children:"All data will only be stored locally and not uploaded to the internet."}),Object(A.jsx)(W.a,{}),Object(A.jsx)("p",{children:"Available datasets:"}),Object(A.jsx)(ie,{},a),Object(A.jsx)(W.a,{style:{marginTop:"-1px"}}),Object(A.jsxs)(x.a,{justify:"center",gutter:[48,0],children:[Object(A.jsx)(O.a,{span:12,style:{textAlign:"end"},children:Object(A.jsx)(v.a,{type:"ghost",children:Object(A.jsx)(c.b,{to:"/vis",children:"Go to Visualize"})})}),Object(A.jsx)(O.a,{span:12,style:{textAlign:"start"},children:Object(A.jsx)(v.a,{type:"ghost",children:Object(A.jsx)(c.b,{to:"/vis",target:"_blank",children:"Open Visualization in New Tab"})})})]})]})}),Object(A.jsx)(m.a,{className:"card",title:"About the Data Upload Tool",style:{width:"80%"},children:Object(A.jsx)(re,{children:Object(A.jsxs)("p",{children:["On this page you can upload your own dataset and use our visualization tools to explore the data. The file must be in ",Object(A.jsx)("code",{children:".csv"}),", which stands for"," ",Object(A.jsx)("a",{href:"https://en.wikipedia.org/wiki/Comma-separated_values",children:"comma-separated values"})," and is a common file type amongst data handling software."]})})})]})}var se=n(36),le=n.n(se),de=n(30),ue=Object(a.createContext)();function he(e){var t=Object(a.useState)({column1:"fromEmail",column2:"toEmail",graph1:"Hierarchical Edge Bundling",graph2:"None",timeframe:[le()("19981112","YYYYMMDD"),le()("20020620","YYYYMMDD")],previousDays:10,timeline:le()("19981112","YYYYMMDD"),columnList:["None","date","fromId","fromEmail","fromJobtitle","toId","toEmail","toJobtitle","messageType","sentiment"],jobColors:de.s(de.t),playbackSpeed:1,playing:!1,selectedNode:null,hoveredNode:null,emailsSent:0,emailsReceived:0,position:null}),n=Object(h.a)(t,2),o=n[0],r=n[1],c=Object(a.useState)({edgeThickness:1,convertEmail:!0,colorEdgeBy:"None",colorNodeBy:"None",bundlingFactor:.85,colorRange:"Viridis",colorFactor:25,removeDuplicates:!0}),s=Object(h.a)(c,2),l=s[0],d=s[1],u=Object(a.useState)({edgeSize:50,nodeSize:5,dynamicEdges:!0,dynamicNodes:!0,colorBy:!0,nodeScaleFactor:3,edgeScaleFactor:5}),b=Object(h.a)(u,2),j=b[0],f=b[1],g=Object(a.useState)({edgeSize:20,nodeSize:5,dynamicEdges:!0,dynamicNodes:!0,colorBy:!0,nodeScaleFactor:3,edgeScaleFactor:5}),p=Object(h.a)(g,2),m=p[0],x=p[1],O=Object(a.useState)({edgeSize:50,nodeSize:5,dynamicNodes:!0,colorBy:!0,nodeScaleFactor:3,linkParticles:!0,linkArrows:!1,edgeOpacity:.2}),y=Object(h.a)(O,2),v=y[0],w=y[1],D=i.a.useContext(N),S=Object(h.a)(D,1)[0];return Object(a.useEffect)((function(){if(null!=S){var e=S.sort((function(e,t){return e.date-t.date})),t=le()(e[0].date),n=le()(e[e.length-1].date);r(Object(k.a)(Object(k.a)({},o),{},{timeframe:[t,n]}))}}),[S]),Object(A.jsx)(ue.Provider,{value:[function(e){switch(e){case"Global":return o;case"Hierarchical Edge Bundling":return l;case"Disjoint Force-Directed":return j;case"Force-Directed Graph":return m;case"Arc Diagram":return{};case"3D Force-Directed Graph":return v;default:return{}}},function(e,t){switch(e){case"Global":r(t);break;case"Hierarchical Edge Bundling":d(t);break;case"Disjoint Force-Directed":f(t);break;case"Force-Directed Graph":x(t);break;case"Arc Diagram":break;case"3D Force-Directed Graph":w(t)}}],children:e.children})}n(524),n(525);var be=n(618);function je(e){var t=e.title,n=e.children,a=e.height,i=e.info;return a*=40,Object(A.jsxs)("li",{className:"custom-menu-item",style:{height:{height:a}},children:[Object(A.jsxs)(be.b,{children:[t,i&&Object(A.jsx)(y.a,{content:i,title:"Info",placement:"right",children:Object(A.jsx)(L.a,{count:Object(A.jsx)(w.a,{style:{color:"#067f5b"}})})})]}),n]})}var fe=n(605),ge=b.a.Option,pe=fe.a.RangePicker;function me(){var e=Object(a.useContext)(ue),t=Object(h.a)(e,2),n=t[0],i=t[1],o="Global",r=Object(a.useState)("Date"),c=Object(h.a)(r,2),s=c[0],l=c[1],d=n(o),u=d.graph1,j=d.graph2,f=d.timeframe,g=["None","Hierarchical Edge Bundling","Disjoint Force-Directed","Force-Directed Graph","3D Force-Directed Graph"];return Object(A.jsxs)("div",{children:[Object(A.jsxs)(je,{title:"Which graph(s) do you want to display?",height:"3",children:[Object(A.jsx)(b.a,{defaultValue:u,style:{width:"100%"},onChange:function(e){i(o,Object(k.a)(Object(k.a)({},n(o)),{},{graph1:e}))},options:g.slice(1).map((function(e){return{label:e,value:e}}))}),Object(A.jsx)(b.a,{defaultValue:j,style:{width:"100%"},onChange:function(e){i(o,Object(k.a)(Object(k.a)({},n(o)),{},{graph2:e}))},options:g.map((function(e){return{label:e,value:e}}))})]}),Object(A.jsx)(je,{title:"Select a specific timeframe:",info:"This will change the range of the timeline to fit to your selection",height:"2",children:Object(A.jsxs)(be.b,{children:[Object(A.jsxs)(b.a,{value:s,onChange:l,children:[Object(A.jsx)(ge,{value:"date",children:"Date"}),Object(A.jsx)(ge,{value:"week",children:"Week"}),Object(A.jsx)(ge,{value:"month",children:"Month"}),Object(A.jsx)(ge,{value:"quarter",children:"Quarter"}),Object(A.jsx)(ge,{value:"year",children:"Year"})]}),Object(A.jsx)(pe,{picker:s,onChange:function(e){i(o,Object(k.a)(Object(k.a)({},n(o)),{},{timeframe:[e[0],e[1]]}))},value:f})]})})]})}var xe=n(610),Oe=n(619),ye=n(141),ve=n(63);function we(){var e="Hierarchical Edge Bundling",t=Object(a.useContext)(ue),n=Object(h.a)(t,2),i=n[0],o=n[1],r=i(e),c=r.edgeThickness,s=r.convertEmail,l=r.colorEdgeBy,d=r.colorNodeBy,u=r.bundlingFactor,j=r.colorRange,f=r.colorFactor,g=r.removeDuplicates;return Object(A.jsxs)("div",{children:[Object(A.jsx)(je,{title:"Color edges based on:",height:"2",children:Object(A.jsx)(b.a,{style:{width:"100%"},defaultValue:l,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{colorEdgeBy:t}))},options:["None","Sentiment","Sender's Jobtitle","Receiver's Jobtitle"].map((function(e){return{label:e,value:e}}))})}),Object(A.jsx)(je,{title:"Color nodes based on:",info:"This will change the color of the text of the nodes",height:"2",children:Object(A.jsx)(b.a,{style:{width:"100%"},defaultValue:d,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{colorNodeBy:t}))},options:["None","Average Sentiment","Minimum Sentiment","Maximum Sentiment","Sender's Jobtitle"].map((function(e){return{label:e,value:e}}))})}),(l.includes("Sentiment")||d.includes("Sentiment"))&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(je,{title:"Color range:",info:"Determines which color range is used to color sentiment. In general, darker means lower sentiment.",height:"2",children:Object(A.jsx)(b.a,{style:{width:"100%"},defaultValue:j,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{colorRange:t}))},options:["Viridis","Turbo","Inferno","Plasma","Warm","Cool"].map((function(e){return{label:e,value:e}}))})}),Object(A.jsx)(je,{title:"Color sensitivity factor:",info:"How sensitive the color is to changes in sentiment. Higher values cause loss of detail in extreme sentiment values.",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:50,defaultValue:f,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{colorFactor:t}))}})})]}),Object(A.jsx)(je,{title:"Default edge thickness:",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:10,defaultValue:c,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{edgeThickness:t}))}})}),Object(A.jsx)(je,{title:"Edge bundling factor:",info:"Determines how strongly the edges are bundled together.",height:"2",children:Object(A.jsx)(xe.a,{min:0,max:1,step:.01,defaultValue:u,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{bundlingFactor:t}))}})}),Object(A.jsxs)(je,{title:"Convert E-Mail to name:",info:"Will try to extract a person's name from their E-Mail address.",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:s,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{convertEmail:t}))}})]}),Object(A.jsxs)(je,{title:"Remove Duplicate Edges:",info:"Remove duplicate edges when two or more e-mails were sent between the same employees. This might cause some detail to be lost, but will increase performance.",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:g,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{removeDuplicates:t}))}})]})]})}function ke(){var e="Disjoint Force-Directed",t=Object(a.useContext)(ue),n=Object(h.a)(t,2),i=n[0],o=n[1],r=i(e),c=r.edgeSize,s=r.nodeSize,l=r.dynamicEdges,d=r.dynamicNodes,u=r.colorBy,b=r.nodeScaleFactor,j=r.edgeScaleFactor;return Object(A.jsxs)("div",{children:[Object(A.jsxs)(je,{defaultValue:u,title:"Color nodes based on job:",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:u,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{colorBy:t}))}})]}),Object(A.jsx)(je,{title:"Default node size:",info:"Controls the size of the circles in the visualization",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:20,defaultValue:s,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{nodeSize:t}))}})}),Object(A.jsx)(je,{title:"Default edge size:",info:"Controls the length of the edges",height:"2",children:Object(A.jsx)(xe.a,{max:200,defaultValue:c,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{edgeSize:t}))}})}),Object(A.jsxs)(je,{title:"Make nodes larger based on degree:",info:"May be overwhelming with few nodes.",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:d,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{dynamicNodes:t}))}})]}),d&&Object(A.jsx)(je,{title:"Node scale factor:",info:"By how much the radius of nodes with a high degree will be multiplied.",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:10,defaultValue:b,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{nodeScaleFactor:t}))}})}),Object(A.jsxs)(je,{title:"Make edges larger based on frequency:",info:"More noticeable with many links.",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:l,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{dynamicEdges:t}))}})]}),l&&Object(A.jsx)(je,{title:"Edge scale factor:",info:"Controls how much the edge size will increase depending on the total amount of links.",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:20,defaultValue:j,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{edgeScaleFactor:t}))}})})]})}function De(){var e="Force-Directed Graph",t=Object(a.useContext)(ue),n=Object(h.a)(t,2),i=n[0],o=n[1],r=i(e),c=r.edgeSize,s=r.nodeSize,l=r.dynamicEdges,d=r.dynamicNodes,u=r.colorBy,b=r.nodeScaleFactor,j=r.edgeScaleFactor;return Object(A.jsxs)("div",{children:[Object(A.jsxs)(je,{defaultValue:u,title:"Color nodes based on job:",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:u,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{colorBy:t}))}})]}),Object(A.jsx)(je,{title:"Default node size:",info:"Controls the size of the circles in the visualization",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:20,defaultValue:s,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{nodeSize:t}))}})}),Object(A.jsx)(je,{title:"Default edge size:",info:"Controls the length of the edges",height:"2",children:Object(A.jsx)(xe.a,{max:200,defaultValue:c,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{edgeSize:t}))}})}),Object(A.jsxs)(je,{title:"Make nodes larger based on degree:",info:"May be overwhelming with few nodes.",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:d,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{dynamicNodes:t}))}})]}),d&&Object(A.jsx)(je,{title:"Node scale factor:",info:"By how much the radius of nodes with a high degree will be multiplied.",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:10,defaultValue:b,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{nodeScaleFactor:t}))}})}),Object(A.jsxs)(je,{title:"Make edges larger based on frequency:",info:"More noticeable with many links.",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:l,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{dynamicEdges:t}))}})]}),l&&Object(A.jsx)(je,{title:"Edge scale factor:",info:"Controls how much the edge size will increase depending on the total amount of links.",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:20,defaultValue:j,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{edgeScaleFactor:t}))}})})]})}function Se(){var e="3D Force-Directed Graph",t=Object(a.useContext)(ue),n=Object(h.a)(t,2),i=n[0],o=n[1],r=i(e),c=r.edgeSize,s=r.nodeSize,l=r.dynamicNodes,d=r.colorBy,u=r.nodeScaleFactor,b=r.linkParticles,j=r.linkArrows,f=r.edgeOpacity;return Object(A.jsxs)("div",{children:[Object(A.jsxs)(je,{defaultValue:d,title:"Color nodes based on job:",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:d,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{colorBy:t}))}})]}),Object(A.jsxs)(je,{defaultValue:d,title:"Show link particles for selected node:",info:"The particles represent the emails sent and flow over the links from the sender to the recipient",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:b,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{linkParticles:t}))}})]}),Object(A.jsxs)(je,{defaultValue:d,title:"Show directional arrows:",info:"The arrows point to the recipients",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:j,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{linkArrows:t}))}})]}),Object(A.jsx)(je,{title:"Default edge opacity:",info:"Changes the opacity of edges. Setting opacity to 0 and selecting a node gives a cool effect.",height:"2",children:Object(A.jsx)(xe.a,{min:0,max:1,step:.01,defaultValue:f,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{edgeOpacity:t}))}})}),Object(A.jsx)(je,{title:"Default node size:",info:"Increases the size of the spheres",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:20,defaultValue:s,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{nodeSize:t}))}})}),Object(A.jsx)(je,{title:"Default edge size:",info:"Controls the length of the edges",height:"2",children:Object(A.jsx)(xe.a,{max:200,defaultValue:c,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{edgeSize:t}))}})}),Object(A.jsxs)(je,{title:"Make nodes larger based on degree:",info:"May be overwhelming with few nodes.",height:"2",children:[Object(A.jsx)("br",{}),Object(A.jsx)(Oe.a,{checkedChildren:Object(A.jsx)(ye.a,{}),unCheckedChildren:Object(A.jsx)(ve.a,{}),defaultChecked:l,onChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{dynamicNodes:t}))}})]}),l&&Object(A.jsx)(je,{title:"Node scale factor:",info:"By how much the radius of nodes with a high degree will be multiplied.",height:"2",children:Object(A.jsx)(xe.a,{min:1,max:10,defaultValue:u,onAfterChange:function(t){o(e,Object(k.a)(Object(k.a)({},i(e)),{},{nodeScaleFactor:t}))}})})]})}var Ce=n(622),Ee=n(623),Ae=n(624),Ne=n(625),Te=n(119),Ie=n(290),Me=(n(526),j.a.Title),ze=j.a.Paragraph;function Fe(){return Object(A.jsxs)(je,{children:[Object(A.jsx)(ze,{style:{lineHeight:"120%"},children:"Welcome to the user manual! Here you can find some information about this page and how it works."}),Object(A.jsx)(Me,{level:3,children:"General Options"}),Object(A.jsx)(ze,{style:{lineHeight:"120%"},children:"Before you start looking at visualisations, you should adjust the General Options to your liking. You can choose primary graph you want to display and optionally also a graph to display beside it. You can also choose a timeframe which filters out all data that doesn't fit in that timeframe."}),Object(A.jsx)(Me,{level:3,children:"The viewport"}),Object(A.jsx)(ze,{style:{lineHeight:"120%"},children:"The viewport is the section where the graph is displayed. Here you can interact with the graph in different ways, but that is discussed in their specific sections. When 2 graphs are selected in the general settings, the viewport is split in half vertically. In this situation there are 2 viewports besides eachother, 1 for each visualisation. In the top left part of the viewport the name of the current visualisation is displayed. In the top right there is an info button, which displays information about the current graph when you hover over it. In the bottom right corner you can find a save button, which allows you to save the currently displayed graph as a picture. At the bottom of the viewport there is a timeline, but that is discussed in its own section."}),Object(A.jsx)(Me,{level:3,children:"Hierarchical Edge Bundling"}),Object(A.jsx)(ze,{style:{lineHeight:"120%"},children:"Edges may be colored differently based on sentiment, sender's jobtitle, or receiver's job title. Similarly, nodes may be colored based on one of the following options: average, minimum, or maximum sentiment or sender's jobtitle. The edge thickness may be increased or decreased by use of the slider, and the edge bundling factor may be modified likewise. These options may be found under 'Options For Graph' on the sidebar."}),Object(A.jsx)(Me,{level:3,children:"(Disjoint) Force Directed Graph"}),Object(A.jsx)(ze,{style:{lineHeight:"120%"},children:"Nodes may be colored based on job title, and resized by use of a slider, degree, and node scale factor (which may also be increased or decreased by slider). Edges may be resized in a similar fasion by using the slider, and through frequence or scale factor (may be changed through a slider). These options may be found under 'Options For Graph' on the sidebar."}),Object(A.jsx)(Me,{level:3,children:"Timeline"}),Object(A.jsx)(ze,{style:{lineHeight:"120%"},children:"At the bottom of the viewport you can find the timeline. Here you can move through the timeframe you selected in the General Options. The timeline is represented with 2 nodes. The first represents the start of the timeline and the other one the end of the timeline. You can drag both of them individually over the timeline with your mouse to move through the timeline. You can also use the play button to automatically move through the nodes. The play button is located at the bottom center of the viewport. In the bottom left corner there are 2 locks present, whith which you can control which nodes move when you press the play button. You can also use the buttons next to the play button to move a single day (single arrow) or move to the next change (double arrow). In the bottom right you can select the speed at which the nodes move when you press the play button."})]})}var Re=n(615),Be=j.a.Title,He=j.a.Paragraph,Ge=j.a.Text,Pe=Re.a.Panel;function Ve(e){var t=e.Email,n=e.outDegree,a=e.inDegree,i=e.Job;return null==t?Object(A.jsx)(je,{children:Object(A.jsx)(Be,{level:4,style:{marginTop:"0%"},children:"No Node Selected"})}):Object(A.jsx)("li",{className:"custom-menu-item",style:{padding:"16px"},children:Object(A.jsx)(Re.a,{defaultActiveKey:"selected",children:Object(A.jsxs)(Pe,{header:t,children:[Object(A.jsxs)(He,{style:{lineHeight:"120%"},children:[Object(A.jsx)(Ge,{strong:!0,children:"Emails Sent:"})," "+n]}),Object(A.jsxs)(He,{style:{lineHeight:"120%"},children:[Object(A.jsx)(Ge,{strong:!0,children:"Emails Received:"})," "+a]}),Object(A.jsxs)(He,{style:{lineHeight:"120%"},children:[Object(A.jsx)(Ge,{strong:!0,children:"Job Title:"})," "+i]})]},"selected")})})}var Le=Te.a.SubMenu,Ye=g.a.Sider;function We(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),n=t[0],o=t[1],r=i.a.useContext(N),s=Object(h.a)(r,5),l=(s[0],s[1],s[2]),d=(s[3],s[4]),u=Object(a.useContext)(ue),b=(0,Object(h.a)(u,1)[0])("Global"),j=b.graph1,f=b.graph2,g=b.columnList,p=b.selectedNode,m=b.position,x=b.emailsSent,O=b.emailsReceived,y=i.a.useState(!1),k=Object(h.a)(y,2),D=k[0],S=k[1],C=function(e){switch(e){case"Hierarchical Edge Bundling":return Object(A.jsx)(we,{});case"Disjoint Force-Directed":return Object(A.jsx)(ke,{});case"Force-Directed Graph":return Object(A.jsx)(De,{});case"3D Force-Directed Graph":return Object(A.jsx)(Se,{});case"Manual":return Object(A.jsx)(Fe,{});case"SelectedNode":return Object(A.jsx)(Ve,{Email:p,inDegree:O,outDegree:x,Job:m});default:return Object(A.jsx)(je,{title:"Set a graph type in 'General Options'",height:"1"})}};return Object(A.jsxs)(Ye,{collapsible:!0,collapsed:n,onCollapse:function(){o(!n)},breakpoint:"lg",width:400,className:"sidebar",children:[Object(A.jsx)(P.a,{title:"Choose a Dataset",visible:D,onCancel:function(){return S(!1)},bodyStyle:{padding:0},destroyOnClose:!0,footer:[Object(A.jsx)(te.a,{title:"Go to the upload page",children:Object(A.jsx)(c.b,{to:"dataUpload",children:Object(A.jsx)(v.a,{style:{marginRight:"auto",display:"block",textAlign:"left"},children:"Upload"})})},"upload")],children:Object(A.jsx)(ie,{onSwitch:function(){return S(!1)}})}),Object(A.jsx)(Ie.a,{spinning:d,children:Object(A.jsxs)(Te.a,{mode:"inline",defaultOpenKeys:["sub1","sub5"],style:{height:"100%",overflowY:"auto",overflowX:"hidden"},selectable:0,children:[Object(A.jsx)(Te.a.Item,{icon:Object(A.jsx)(Ce.a,{}),style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:Object(A.jsx)(te.a,{title:"Select a dataset",children:Object(A.jsx)(v.a,{type:l?null:"primary",onClick:function(){return S(!0)},children:l||"Choose Dataset"})})}),Object(A.jsx)(Le,{icon:Object(A.jsx)(Ee.a,{}),title:"General Options",className:"color-5",children:Object(A.jsx)(me,{colList:g})},"sub1"),Object(A.jsx)(Le,{icon:Object(A.jsx)(Ae.a,{}),title:"Options For Graph #1",children:C(j)},"sub2"),"None"!=f&&Object(A.jsx)(Le,{icon:Object(A.jsx)(Ae.a,{}),title:"Options For Graph #2",children:C(f)},"sub3"),Object(A.jsx)(Le,{icon:Object(A.jsx)(Ne.a,{}),title:"User Manual",children:C("Manual")},"sub4"),Object(A.jsx)(Le,{icon:Object(A.jsx)(w.a,{}),title:"Selected Node",children:C("SelectedNode")},"sub5")]})})]})}var Je=n(616),Ue=n(35),qe=n(60),_e=(n(527),"Hierarchical Edge Bundling"),Ke="Global";function Ze(){var e=Object(a.useContext)(ue),t=Object(h.a)(e,2),n=t[0],o=t[1],r=n(Ke),c=n(_e),s=!1,l=Object(a.useState)({update:null}),d=Object(h.a)(l,2),u=d[0],b=d[1],j=i.a.useContext(N),g=Object(h.a)(j,1)[0],p=Object(a.useState)(null),m=Object(h.a)(p,2),x=m[0],O=m[1],y=Object(a.useRef)();return Object(a.useEffect)((function(){var e=850,t=de.b().size([2*Math.PI,325]),a=de.k({name:"",children:[]});a.incoming=[],a.outgoing=[];var i=de.u(y.current).append("svg").attr("viewBox",[-425,-425,e,e]).style("height","100%").style("width","100%"),r=i.append("g").classed("node",!0),l=i.append("g").classed("link",!0),d=de.u(y.current).append("div").style("bottom","20px").style("left","20px").style("position","absolute").style("background-color","white").style("border-radius","10px").style("padding","10px 15px 0 15px").style("width","200px").style("overflow","hidden").style("max-height","53px").style("transition","all 250ms ease-in-out 0s"),u=d.append("div").style("display","flex").style("justify-content","space-between").style("align-items","center").style("margin-bottom","10px").html("<h2 style='margin: 0;'>Legend</h2>"),j=d.append("div"),g=u.append("a").style("background","none").style("border","none").style("text-decoration","none").style("font-size","1rem").html("Show").on("click",(function(){s?(g.html("Show"),d.style("max-height","53px")):(g.html("Hide"),d.style("max-height",j.node().offsetHeight+67+"px")),s=!s})).on("mouseover",(function(){g.style("text-decoration","underline")})).on("mouseout",(function(){g.style("text-decoration","none")})),p=n(Ke).jobColors,m=[],x={},O=[],v=[],w={},D=function(e,n,a,o){var c={nodeColor:!1,edgeColor:!1,convertEmail:!1,edgeThickness:!1,bundlingFactor:!1};n.colorNodeBy==w.colorNodeBy&&n.colorRange==w.colorRange&&n.colorFactor==w.colorFactor||(c.nodeColor=!0),n.convertEmail!=w.convertEmail&&(c.convertEmail=!0),n.colorEdgeBy==w.colorEdgeBy&&n.colorRange==w.colorRange&&n.colorFactor==w.colorFactor||(c.edgeColor=!0),n.edgeThickness!=w.edgeThickness&&(c.edgeThickness=!0),n.bundlingFactor!=w.bundlingFactor&&(c.bundlingFactor=!0),w=n,e=t(e);var u=de.r().curve(de.c.beta(n.bundlingFactor)).radius((function(e){return e.y})).angle((function(e){return e.x})),b=function(e){switch(e=1/(1+Math.pow((e+1)/(1-e),-n.colorFactor)),n.colorRange){case"Viridis":return de.p(e);case"Turbo":return de.o(e);case"Inferno":return de.m(e);case"Plasma":return de.n(e);case"Warm":return de.q(e);case"Cool":return de.l(e);default:return"black"}},g=function(e){switch(n.colorNodeBy){case"Average Sentiment":var t,a,i=0,o=null===(t=e.data.children.mails)||void 0===t?void 0:t.length;return null===(a=e.data.children.mails)||void 0===a||a.forEach((function(e){i+=e.sentiment})),b(i/=o);case"Minimum Sentiment":var r,c=2;return null===(r=e.data.children.mails)||void 0===r||r.forEach((function(e){e.sentiment<c&&(c=e.sentiment)})),2==c?"black":b(c);case"Maximum Sentiment":var s,l=-2;return null===(s=e.data.children.mails)||void 0===s||s.forEach((function(e){e.sentiment>l&&(l=e.sentiment)})),-2==l?"black":b(l);case"Sender's Jobtitle":return p(e.data.jobtitle);default:return"black"}},y=function(e){switch(n.colorEdgeBy){case"Sentiment":var t=0,a=0;return e[0].data.children.mails.forEach((function(n){e[1].data.name==n.toEmail&&(t+=n.sentiment,a++)})),b(t/=a);case"Sender's Jobtitle":return p(e[0].data.jobtitle);case"Receiver's Jobtitle":return p(e[1].data.jobtitle);default:return"#444"}},D=r.selectAll("g").data(e.leaves(),(function(e){return e.data.name}));D.enter().append("g").attr("transform",(function(e){return"rotate(".concat(180*e.x/Math.PI-90,") translate(").concat(e.y,",0)")})).append("text").attr("dy","0.31em").attr("x",(function(e){return e.x<Math.PI?6:-6})).attr("text-anchor",(function(e){return e.x<Math.PI?"start":"end"})).attr("transform",(function(e){return e.x>=Math.PI?"rotate(180)":null})).text((function(e){return n.convertEmail?e.data.name.replace("."," ").substr(0,e.data.name.indexOf("@")):e.data.name})).attr("fill",(function(e){return g(e)})).each((function(e){x[e.data.name]=this})).call((function(e){return e.append("title")})),D.exit().each((function(e){delete x[e.data.name]})).remove();var S="",C=new Map;r.selectAll("g").on("mouseover",(function(e,t){o(Ke,Object(k.a)(Object(k.a)({},a(Ke)),{},{hoveredNode:t.data.name}))})).on("mouseout",(function(e,t){a(Ke).hoveredNode==t.data.name&&o(Ke,Object(k.a)(Object(k.a)({},a(Ke)),{},{hoveredNode:null}))})).on("click",(function(e,t){var n,i;a(Ke).selectedNode==t.data.name?o(Ke,Object(k.a)(Object(k.a)({},a(Ke)),{},{selectedNode:null})):o(Ke,Object(k.a)(Object(k.a)({},a(Ke)),{},{selectedNode:t.data.name,emailsSent:null===(n=t.outgoing)||void 0===n?void 0:n.degree,emailsReceived:null===(i=t.incoming)||void 0===i?void 0:i.degree,position:t.data.jobtitle}))})).call((function(e){var t;e.select("title").text((function(e){var t,n;return"".concat(e.data.name," (").concat(e.data.jobtitle,")")+"\n".concat((null===(t=e.outgoing)||void 0===t?void 0:t.degree)||0," outgoing")+"\n".concat((null===(n=e.incoming)||void 0===n?void 0:n.degree)||0," incoming")}));var a=e.select("text");c.convertEmail&&a.text((function(e){return n.convertEmail?e.data.name.replace("."," ").substr(0,e.data.name.indexOf("@")):e.data.name})),(c.nodeColor||(null===(t=n.colorNodeBy)||void 0===t?void 0:t.includes("Sentiment")))&&a.attr("fill",(function(e){return g(e)}))})).each((function(e){var t=e.data.jobtitle;(n.colorNodeBy.includes("Jobtitle")||n.colorEdgeBy.includes("Jobtitle"))&&(C.has(t)?C.set(t,C.get(t)+1):C.set(t,1))}));var E=e.leaves().flatMap((function(e){return e.outgoing})),A=E.length>15e3;!A&&i.classed("fastRender")?f.b.info("Fast rendering mode disabled.",5):A&&!i.classed("fastRender")&&f.b.info("Fast rendering mode enabled.",5),i.classed("fastRender",A).classed("capitalize",n.convertEmail);var N=l.selectAll("path").data(E,(function(e){return e.id}));N.enter().append("path").attr("d",(function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];return u(n.path(a))})).attr("stroke",(function(e){return y(e)})).style("stroke-width",1==n.edgeThickness?null:n.edgeThickness+"px").each((function(e){m[e.id]=this})),N.exit().each((function(e){delete m[e.id]})).remove();var T=l.selectAll("path");c.edgeThickness&&T.style("stroke-width",1==n.edgeThickness?null:n.edgeThickness+"px"),c.edgeColor&&T.attr("stroke",(function(e){return y(e)})),c.bundlingFactor&&T.attr("d",(function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];return u(n.path(a))}));var I=a(Ke),M=I.selectedNode,z=I.hoveredNode,F=I.emailsSent,R=I.emailsReceived,B=O.filter((function(e){return e!=M&&e!=z}));O=[M,z];var H=e.leaves().find((function(e){return e.data.name==M}));!H||H.outgoing.degree==F&&H.incoming.degree==R||o(Ke,Object(k.a)(Object(k.a)({},a(Ke)),{},{selectedNode:H.data.name,emailsSent:H.outgoing.degree,emailsReceived:H.incoming.degree})),B.forEach((function(t){var n,a,i=e.leaves().find((function(e){return e.data.name==t}));null!=i&&(n=i,a=x[t],de.u(a).attr("font-weight",null),de.v(n.incoming.map((function(e){return m[e.id]}))).classed("link-target",!1),de.v(n.outgoing.map((function(e){return m[e.id]}))).classed("link-source",!1),de.v(n.incoming.map((function(e){var t=Object(h.a)(e,1)[0];return x[t.data.name]}))).classed("node-source",!1),de.v(n.outgoing.map((function(e){var t=Object(h.a)(e,2)[1];return x[t.data.name]}))).classed("node-target",!1))}));var G=[];O.forEach((function(t){var n,a,i=e.leaves().find((function(e){return e.data.name==t}));null!=i&&(n=i,a=x[t],de.u(a).attr("font-weight","bolder"),de.v(n.incoming.map((function(e){return m[e.id]}))).classed("link-target",!0).raise(),de.v(n.outgoing.map((function(e){return m[e.id]}))).classed("link-source",!0).raise(),de.v(n.incoming.map((function(e){var t=Object(h.a)(e,1)[0];return G.includes(x[t.data.name])||G.push(x[t.data.name]),x[t.data.name]}))).classed("node-source",!0),de.v(n.outgoing.map((function(e){var t=Object(h.a)(e,2)[1];return G.includes(x[t.data.name])||G.push(x[t.data.name]),x[t.data.name]}))).classed("node-target",!0))})),de.v(v.filter((function(e){return!G.includes(e)}))).classed("node-source",!1).classed("node-target",!1),v=G;var P,V=new Map(Object(qe.a)(C.entries()).sort()),L=Object(Ue.a)(V);try{for(L.s();!(P=L.n()).done;){var Y=Object(h.a)(P.value,2),W=Y[0],J=Y[1];S+="<p><span style='color: ".concat(p(W),";'>&#11044</span> ").concat(W,'<span style="float: right">').concat(J,"</span></p>")}}catch(q){L.e(q)}finally{L.f()}if(j.html(S),n.colorNodeBy.includes("Sentiment")||n.colorEdgeBy.includes("Sentiment")){j.append("p").style("font-weight","bold").style("text-align","center").style("margin-bottom","4px").html("Sentiment Value"),j.append("img").attr("src","".concat("/dbl-app","/res/").concat(n.colorRange,".png")).attr("height","20px").attr("width","100%").style("border-radius","5px");var U=j.append("p").style("display","flex").style("justify-content","space-between");U.append("span").html("Angry"),U.append("span").html("Happy")}s&&d.style("max-height",j.node().offsetHeight+67+"px")};return D(a,c,n,o),b({update:D}),function(){de.u(y.current).selectAll("*").remove()}}),[]),Object(a.useEffect)((function(){if(g){var e={name:"data",children:[]},t=new Map,n=new Map,a=new Date(le()(r.timeline).subtract(r.previousDays,"days")).getTime(),i=new Date(r.timeline).getTime();g.forEach((function(e,o){var r=e.fromJobtitle,c=e.fromEmail,s=e.toEmail,l=e.toJobtitle,d=e.date,u=e.sentiment;n.has(r)||n.set(r,{children:[]}),n.has(l)||n.set(l,{children:[]}),t.get(c)||t.set(c,{children:[],jobtitle:r}),t.get(s)||t.set(s,{children:[],jobtitle:l});var h=d.getTime();h<a||h>i||t.get(c).children.push({toEmail:s,date:d,sentiment:u,id:o})})),t.forEach((function(e,t){n.get(e.jobtitle).children.push({name:t,jobtitle:e.jobtitle,children:{mails:e.children}})})),n.forEach((function(t,n){e.children.push({name:n,children:t.children})}));var o=new Map,s=function(e){var t,n=new Map(e.leaves().map((function(e){return[e.data.name,e]}))),a=Object(Ue.a)(e.leaves());try{var i=function(){var e,a,i,r,s,l,d,u=t.value,h=null===(e=u.data)||void 0===e||null===(a=e.children)||void 0===a?void 0:a.mails;c.removeDuplicates&&(h=null===(i=h)||void 0===i?void 0:i.filter((function(e){var t=o.has(u.data.name+"-"+e.toEmail);return t?o.set(u.data.name+"-"+e.toEmail,o.get(u.data.name+"-"+e.toEmail)+1):o.set(u.data.name+"-"+e.toEmail,1),!t}))),u.incoming=[],u.outgoing=null===(r=h)||void 0===r?void 0:r.map((function(e){var t=[u,n.get(e.toEmail)];return t.id=e.id,t})),u.outgoing||(u.outgoing=[]),u.outgoing.degree=(null===(s=u.data)||void 0===s||null===(l=s.children)||void 0===l||null===(d=l.mails)||void 0===d?void 0:d.length)||0};for(a.s();!(t=a.n()).done;)i()}catch(b){a.e(b)}finally{a.f()}var r,s=Object(Ue.a)(e.leaves());try{for(s.s();!(r=s.n()).done;){var l,d=r.value,u=Object(Ue.a)(d.outgoing);try{for(u.s();!(l=u.n()).done;){var h=l.value;h[1].incoming.push(h),c.removeDuplicates?(h[1].incoming.degree||(h[1].incoming.degree=0),h[1].incoming.degree+=o.get(h[0].data.name+"-"+h[1].data.name)):h[1].incoming.degree=h[1].incoming.length}}catch(b){u.e(b)}finally{u.f()}}}catch(b){s.e(b)}finally{s.f()}return e}(de.k(e).sort((function(e,t){return de.a(e.height,t.height)||de.a(e.data.name,t.data.name)})));O(s)}}),[g,r.timeline,r.previousDays,c]),Object(a.useEffect)((function(){x&&u&&u.update(x,c,n,o)}),[x,r,u]),Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{style:{margin:"10px 20px"},children:_e}),Object(A.jsx)("div",{ref:y,style:{position:"absolute",top:50,width:"100%",height:"calc(100% - 50px)"}})]})}var Qe="Disjoint Force-Directed",Xe="Global";function $e(){var e=Object(a.useContext)(ue),t=Object(h.a)(e,2),n=t[0],o=t[1],r=n(Xe),c=Object(a.useState)({update:null}),s=Object(h.a)(c,2),l=s[0],d=s[1],u=!1,b=i.a.useContext(N),j=Object(h.a)(b,1)[0],f=Object(a.useState)(null),g=Object(h.a)(f,2),p=g[0],m=g[1],x=Object(a.useState)(null),O=Object(h.a)(x,2),y=O[0],v=O[1],w=n(Qe),D=Object(a.useRef)(),S=!1;return Object(a.useEffect)((function(){var e=de.u(D.current).append("svg").style("height","100%").style("width","100%"),t=e.append("g").attr("stroke","#999").attr("stroke-opacity",.6),a=e.append("g").attr("stroke","#fff").attr("stroke-width",1.5),i=de.w().on("zoom",(function(e){a.attr("transform",e.transform),t.attr("transform",e.transform)}));e.call(i),de.u(D.current).append("button").html("Reset Zoom").style("position","absolute").style("bottom","20px").style("left","0").style("right","0").style("margin","auto").classed("ant-btn ant-btn-primary",!0).on("click",(function(){e.transition().duration(600).call(i.transform,de.x)}));var r=de.u(D.current).append("div").style("bottom","20px").style("left","20px").style("position","absolute").style("background-color","white").style("border-radius","10px").style("padding","10px 15px 0 15px").style("width","200px").style("overflow","hidden").style("max-height","53px").style("transition","all 250ms ease-in-out 0s"),c=r.append("div").style("display","flex").style("justify-content","space-between").style("align-items","center").style("margin-bottom","10px").html("<h2 style='margin: 0;'>Legend</h2>"),s=r.append("div"),l=c.append("a").style("background","none").style("border","none").style("text-decoration","none").style("font-size","1rem").html("Show").on("click",(function(){u?(l.html("Show"),r.style("max-height","53px")):(l.html("Hide"),r.style("max-height",s.node().offsetHeight+67+"px")),u=!u})).on("mouseover",(function(){l.style("text-decoration","underline")})).on("mouseout",(function(){l.style("text-decoration","none")})),b=de.g(),j=de.f([]).id((function(e){return e.id})),f=de.h([]).force("x",de.i()).force("y",de.j()).force("link",j).force("charge",b);function g(e){S=!0,e.active||f.alphaTarget(.3).restart(),e.subject.fx=e.subject.x,e.subject.fy=e.subject.y}function p(e){e.subject.fx=e.x,e.subject.fy=e.y}function m(e){S=!1,e.active||f.alphaTarget(0).alphaDecay(0),e.subject.fx=null,e.subject.fy=null}f.on("tick",(function(){t.selectAll("line").attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),a.selectAll("circle").attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}));var x=n(Xe).jobColors,O=function(){var t=D.current.offsetWidth,n=D.current.offsetHeight;e.attr("viewBox",[-t/2,-n/2,t,n])};window.addEventListener("resize",O),setTimeout(O,10);var y=!1,v=function(e,n,i,o,c){var l=o(Qe),d=new Map(a.selectAll("circle").data().map((function(e){return[e.id,e]})));e=e.map((function(e){return Object(k.a)(Object(k.a)({},d.get(e.id)||{}),e)})),n=n.map((function(e){return Object(k.a)({},e)})),l.dynamicEdges?b.strength(-.01*n.length*l.edgeScaleFactor-l.edgeSize):b.strength(-l.edgeSize),f.nodes(e),j.links(n),t.selectAll("line").data(n).join("line"),a.selectAll("circle").data(e).join("circle"),a.selectAll("circle").selectAll("title").remove();var O=o(Xe),v=O.hoveredNode,w=O.selectedNode,D=O.emailsSent,C=O.emailsReceived;a.selectAll("circle").on("click",(function(e,n){var a=o(Xe);n.id===a.selectedNode?(c(Xe,Object(k.a)(Object(k.a)({},a),{},{selectedNode:null,emailsSent:0,emailsReceived:0,position:null})),t.selectAll("line").attr("stroke","#999")):(c(Xe,Object(k.a)(Object(k.a)({},a),{},{selectedNode:n.id,emailsSent:n.outDegree,emailsReceived:n.inDegree,position:n.job})),t.selectAll("line").attr("stroke",(function(e){if(e.source.id===n.id||e.target.id===n.id)return"red"})))})).on("mouseover",(function(e,n){S||(y=!1,setTimeout((function(){0==y&&(c(Xe,Object(k.a)(Object(k.a)({},o(Xe)),{},{hoveredNode:n.id})),t.selectAll("line").attr("stroke",(function(e){return e.source.id===w||e.target.id===w?"red":e.source.id===n.id||e.target.id===n.id?"black":"#999"})))}),100))})).on("mouseout",(function(e,n){y=!0,S||null==v||(c(Xe,Object(k.a)(Object(k.a)({},o(Xe)),{},{hoveredNode:null})),t.selectAll("line").attr("stroke",(function(e){return e.source.id===w||e.target.id===w?"red":"#999"}))),S&&t.selectAll("line").attr("stroke",(function(e){return e.source.id===w||e.target.id===w?"red":e.source.id===n.id||e.target.id===n.id?"black":"#999"}))}));var E=!1,A="",N=new Map;a.selectAll("circle").attr("fill",(function(e){var t="#067f5b";return l.colorBy&&(t=x(e.job),N.has(e.job)?N.set(e.job,N.get(e.job)+1):N.set(e.job,1)),t})).style("stroke",(function(e){return e.id!==w&&e.id!==v||t.selectAll("line").attr("stroke",(function(e){return e.source.id===w||e.target.id===w?"red":e.source.id===v||e.target.id===v?"black":"#999"})),e.id===w?"red":e.id===v?"black":"white"})).each((function(e){w===e.id&&(E=!0,D==e.outDegree&&C==e.inDegree||c(Xe,Object(k.a)(Object(k.a)({},o(Xe)),{},{selectedNode:e.id,emailsSent:e.outDegree,emailsReceived:e.inDegree})))})).call(de.d().on("start",g).on("drag",p).on("end",m)).append("title").text((function(e){return"Email: ".concat(e.id," + \nDegree: ").concat(e.degree," \ninDegree: ").concat(e.inDegree," \noutDegree: ").concat(e.outDegree," \nJob: ").concat(e.job)})),E||null===w||0===D&&0===C||c(Xe,Object(k.a)(Object(k.a)({},o(Xe)),{},{emailsSent:0,emailsReceived:0}));var T,I=new Map(Object(qe.a)(N.entries()).sort()),M=Object(Ue.a)(I);try{for(M.s();!(T=M.n()).done;){var z=Object(h.a)(T.value,2),F=z[0],R=z[1];A+="<p><span style='color: ".concat(x(F),";'>&#11044</span> ").concat(F,'<span style="float: right">').concat(R,"</span></p>")}}catch(B){M.e(B)}finally{M.f()}s.html(A),u&&r.style("max-height",s.node().offsetHeight+67+"px"),l.dynamicNodes?a.selectAll("circle").attr("r",(function(e){return(1+e.degree*l.nodeScaleFactor/i)*l.nodeSize})):a.selectAll("circle").attr("r",l.nodeSize),f.alpha(.3).alphaTarget(0).alphaDecay(0).restart()};return v([],[],0,n,o),d({update:v}),function(){de.u(D.current).selectAll("*").remove(),window.removeEventListener("resize",O)}}),[]),Object(a.useEffect)((function(){var e={links:[],nodes:new Map};j.forEach((function(t){var n=t.fromEmail,a=t.toEmail,i=t.date,o=t.fromJobtitle,r=t.toJobtitle,c=le()(i);e.nodes.has(n)||e.nodes.set(n,{id:n,job:o}),e.nodes.has(a)||e.nodes.set(a,{id:a,job:r}),e.links.push({source:n,target:a,date:c})})),m(e)}),[j]),Object(a.useEffect)((function(){if(p){var e=new Date(le()(r.timeline).subtract(r.previousDays,"days")),t=new Date(r.timeline),n={nodes:[],links:[],maxDegree:0},a=new Map,i=new Map;p.links.forEach((function(o){if(!(o.date<e||o.date>t)){if(!i.has(o.source)){var r=p.nodes.get(o.source);r.degree=0,r.outDegree=0,r.inDegree=0,n.nodes.push(r),i.set(o.source,!0)}if(!i.has(o.target)){var c=p.nodes.get(o.target);c.degree=0,c.outDegree=0,c.inDegree=0,n.nodes.push(c),i.set(o.target,!0)}a.has("".concat(o.source).concat(o.target))||a.has("".concat(o.target).concat(o.source))||(n.links.push(o),a.set("".concat(o.source).concat(o.target),!0));var s=p.nodes.get(o.source),l=p.nodes.get(o.target);s.outDegree++,s.degree++,l.inDegree++,l.degree++}})),n.nodes.forEach((function(e){n.maxDegree=e.degree>n.maxDegree?e.degree:n.maxDegree})),v(n)}}),[p,r,w]),Object(a.useEffect)((function(){y&&l.update&&l.update(y.nodes,y.links,y.maxDegree,n,o)}),[y]),Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{style:{margin:"10px 20px"},children:Qe}),Object(A.jsx)("div",{ref:D,style:{position:"absolute",top:50,width:"100%",height:"calc(100% - 50px)"}})]})}var et=n(294),tt=n.n(et),nt=n(626),at=n(627);n(528);function it(e){var t=e.id,n=function(e){return"BUTTON"!==e.tagName};return Object(A.jsx)(ne.a,{onConfirm:function(){tt.a.toPng(document.getElementById(t),{filter:n}).then((function(e){var t=document.createElement("a");t.download="vis.png",t.href=e,t.click()})),f.b.success("Image downloaded")},onCancel:function(){f.b.error("Canceled download")},okText:"Yes",cancelText:"No",title:"Do you want to save a .png of the graph?",placement:"topRight",icon:Object(A.jsx)(nt.a,{style:{color:"gray"}}),children:Object(A.jsx)(v.a,{type:"primary",className:"save-button",icon:Object(A.jsx)(at.a,{})})})}var ot="Force-Directed Graph",rt="Global";function ct(){var e=Object(a.useContext)(ue),t=Object(h.a)(e,2),n=t[0],o=t[1],r=n(rt),c=Object(a.useState)({update:null}),s=Object(h.a)(c,2),l=s[0],d=s[1],u=!1,b=i.a.useContext(N),j=Object(h.a)(b,1)[0],f=Object(a.useState)(null),g=Object(h.a)(f,2),p=g[0],m=g[1],x=Object(a.useState)(null),O=Object(h.a)(x,2),y=O[0],v=O[1],w=n(ot),D=Object(a.useRef)(),S=!1;return Object(a.useEffect)((function(){var e=de.u(D.current).append("svg").style("height","100%").style("width","100%"),t=e.append("g").attr("stroke","#999").attr("stroke-opacity",.6),a=e.append("g").attr("stroke","#fff").attr("stroke-width",1.5),i=de.w().on("zoom",(function(e){a.attr("transform",e.transform),t.attr("transform",e.transform)}));e.call(i),de.u(D.current).append("button").html("Reset Zoom").style("position","absolute").style("bottom","20px").style("left","0").style("right","0").style("margin","auto").classed("ant-btn ant-btn-primary",!0).on("click",(function(){e.transition().duration(600).call(i.transform,de.x)}));var r=de.u(D.current).append("div").style("bottom","20px").style("left","20px").style("position","absolute").style("background-color","white").style("border-radius","10px").style("padding","10px 15px 0 15px").style("width","200px").style("overflow","hidden").style("max-height","53px").style("transition","all 250ms ease-in-out 0s"),c=r.append("div").style("display","flex").style("justify-content","space-between").style("align-items","center").style("margin-bottom","10px").html("<h2 style='margin: 0;'>Legend</h2>"),s=r.append("div"),l=c.append("a").style("background","none").style("border","none").style("text-decoration","none").style("font-size","1rem").html("Show").on("click",(function(){u?(l.html("Show"),r.style("max-height","53px")):(l.html("Hide"),r.style("max-height",s.node().offsetHeight+67+"px")),u=!u})).on("mouseover",(function(){l.style("text-decoration","underline")})).on("mouseout",(function(){l.style("text-decoration","none")})),b=de.g(),j=de.f([]).id((function(e){return e.id}));function f(e,t){var n=[],a=function(){for(var a=0,i=n.length;a<i;++a){var o=n[a];o.x=Math.max(20,Math.min(e-20,o.x)),o.y=Math.max(20,Math.min(t-20,o.y))}};return a.initialize=function(e){n=e},a}var g=de.h([]).force("center",de.e(0,0)).force("charge",b).force("box_force",f(0,0)).force("link",j);function p(e){S=!0,e.active||g.alphaTarget(.3).restart(),e.subject.fx=e.subject.x,e.subject.fy=e.subject.y}function m(e){e.subject.fx=e.x,e.subject.fy=e.y}function x(e){S=!1,e.active||g.alphaTarget(0).alphaDecay(0),e.subject.fx=null,e.subject.fy=null}g.on("tick",(function(){t.selectAll("line").attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),a.selectAll("circle").attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y}))}));var O=n(rt).jobColors,y=function(){var t=D.current.offsetWidth,n=D.current.offsetHeight;g.force("center",null).force("box_force",null),g.force("center",de.e(t/2,n/2)).force("box_force",f(t,n)),g.restart(),e.attr("viewBox",[0,0,t,n])};window.addEventListener("resize",y),setTimeout(y,10);var v=!1,w=function(e,n,i,o,c){var l=o(ot),d=new Map(a.selectAll("circle").data().map((function(e){return[e.id,e]})));e=e.map((function(e){return Object(k.a)(Object(k.a)({},d.get(e.id)||{}),e)})),n=n.map((function(e){return Object(k.a)({},e)})),l.dynamicEdges?b.strength(-.01*n.length*l.edgeScaleFactor-l.edgeSize):b.strength(-l.edgeSize),g.nodes(e),j.links(n),t.selectAll("line").data(n).join("line"),a.selectAll("circle").data(e).join("circle"),a.selectAll("circle").selectAll("title").remove();var f=o(rt),y=f.hoveredNode,w=f.selectedNode,D=f.emailsSent,C=f.emailsReceived;a.selectAll("circle").on("click",(function(e,n){var a=o(rt);n.id===a.selectedNode?(c(rt,Object(k.a)(Object(k.a)({},a),{},{selectedNode:null,emailsSent:0,emailsReceived:0,position:null})),t.selectAll("line").attr("stroke","#999")):(c(rt,Object(k.a)(Object(k.a)({},a),{},{selectedNode:n.id,emailsSent:n.outDegree,emailsReceived:n.inDegree,position:n.job})),t.selectAll("line").attr("stroke",(function(e){if(e.source.id===n.id||e.target.id===n.id)return"red"})))})).on("mouseover",(function(e,n){S||(v=!1,setTimeout((function(){0==v&&(c(rt,Object(k.a)(Object(k.a)({},o(rt)),{},{hoveredNode:n.id})),t.selectAll("line").attr("stroke",(function(e){return e.source.id===w||e.target.id===w?"red":e.source.id===n.id||e.target.id===n.id?"black":"#999"})))}),100))})).on("mouseout",(function(e,n){v=!0,S||null==y||(c(rt,Object(k.a)(Object(k.a)({},o(rt)),{},{hoveredNode:null})),t.selectAll("line").attr("stroke",(function(e){return e.source.id===w||e.target.id===w?"red":"#999"}))),S&&t.selectAll("line").attr("stroke",(function(e){return e.source.id===w||e.target.id===w?"red":e.source.id===n.id||e.target.id===n.id?"black":"#999"}))}));var E=!1,A="",N=new Map;a.selectAll("circle").attr("fill",(function(e){var t="#067f5b";return l.colorBy&&(t=O(e.job),N.has(e.job)?N.set(e.job,N.get(e.job)+1):N.set(e.job,1)),t})).style("stroke",(function(e){return e.id!==w&&e.id!==y||t.selectAll("line").attr("stroke",(function(e){return e.source.id===w||e.target.id===w?"red":e.source.id===y||e.target.id===y?"black":"#999"})),e.id===w?"red":e.id===y?"black":"white"})).each((function(e){w===e.id&&(E=!0,D==e.outDegree&&C==e.inDegree||c(rt,Object(k.a)(Object(k.a)({},o(rt)),{},{selectedNode:e.id,emailsSent:e.outDegree,emailsReceived:e.inDegree})))})).call(de.d().on("start",p).on("drag",m).on("end",x)).append("title").text((function(e){return"Email: ".concat(e.id," + \nDegree: ").concat(e.degree," \ninDegree: ").concat(e.inDegree," \noutDegree: ").concat(e.outDegree," \nJob: ").concat(e.job)})),E||null===w||0===D&&0===C||c(rt,Object(k.a)(Object(k.a)({},o(rt)),{},{emailsSent:0,emailsReceived:0}));var T,I=new Map(Object(qe.a)(N.entries()).sort()),M=Object(Ue.a)(I);try{for(M.s();!(T=M.n()).done;){var z=Object(h.a)(T.value,2),F=z[0],R=z[1];A+="<p><span style='color: ".concat(O(F),";'>&#11044</span> ").concat(F,'<span style="float: right">').concat(R,"</span></p>")}}catch(B){M.e(B)}finally{M.f()}s.html(A),u&&r.style("max-height",s.node().offsetHeight+67+"px"),l.dynamicNodes?a.selectAll("circle").attr("r",(function(e){return(1+e.degree*l.nodeScaleFactor/i)*l.nodeSize})):a.selectAll("circle").attr("r",l.nodeSize),g.alpha(.3).alphaTarget(0).alphaDecay(0).restart()};return w([],[],0,n,o),d({update:w}),function(){de.u(D.current).selectAll("*").remove(),window.removeEventListener("resize",y)}}),[]),Object(a.useEffect)((function(){var e={links:[],nodes:new Map};j.forEach((function(t){var n=t.fromEmail,a=t.toEmail,i=t.date,o=t.fromJobtitle,r=t.toJobtitle,c=le()(i);e.nodes.has(n)||e.nodes.set(n,{id:n,job:o}),e.nodes.has(a)||e.nodes.set(a,{id:a,job:r}),e.links.push({source:n,target:a,date:c})})),m(e)}),[j]),Object(a.useEffect)((function(){if(p){var e=new Date(le()(r.timeline).subtract(r.previousDays,"days")),t=new Date(r.timeline),n={nodes:[],links:[],maxDegree:0},a=new Map,i=new Map;p.links.forEach((function(o){if(!(o.date<e||o.date>t)){if(!i.has(o.source)){var r=p.nodes.get(o.source);r.degree=0,r.outDegree=0,r.inDegree=0,n.nodes.push(r),i.set(o.source,!0)}if(!i.has(o.target)){var c=p.nodes.get(o.target);c.degree=0,c.outDegree=0,c.inDegree=0,n.nodes.push(c),i.set(o.target,!0)}a.has("".concat(o.source).concat(o.target))||a.has("".concat(o.target).concat(o.source))||(n.links.push(o),a.set("".concat(o.source).concat(o.target),!0));var s=p.nodes.get(o.source),l=p.nodes.get(o.target);s.outDegree++,s.degree++,l.inDegree++,l.degree++}})),n.nodes.forEach((function(e){n.maxDegree=e.degree>n.maxDegree?e.degree:n.maxDegree})),v(n)}}),[p,r,w]),Object(a.useEffect)((function(){y&&l.update&&l.update(y.nodes,y.links,y.maxDegree,n,o)}),[y]),Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{style:{margin:"10px 20px"},children:ot}),Object(A.jsx)("div",{ref:D,style:{position:"absolute",top:50,width:"100%",height:"calc(100% - 50px)"}})]})}var st=n(222),lt="3D Force-Directed Graph",dt="Global";function ut(){var e=Object(a.useContext)(ue),t=Object(h.a)(e,2),n=t[0],o=t[1],r=n(dt),c=n(lt),s=i.a.useContext(N),l=Object(h.a)(s,1)[0],d=Object(a.useRef)(),u=Object(a.useState)(),b=Object(h.a)(u,2),j=b[0],f=b[1],g=Object(a.useState)({update:null}),p=Object(h.a)(g,2),m=p[0],x=p[1],O=Object(a.useState)(null),y=Object(h.a)(O,2),v=y[0],w=y[1],D=Object(a.useState)(null),S=Object(h.a)(D,2),C=S[0],E=S[1];return Object(a.useEffect)((function(){var e=n(dt).jobColors,t=[];x({update:function(n,a,i,o){var r=i(dt),c=r.hoveredNode,l=r.selectedNode,d=r.emailsSent,u=r.emailsReceived,h=i(lt),b=new Map,j={};n.nodes.forEach((function(e){b.has(e.job)?b.set(e.job,b.get(e.job)+1):b.set(e.job,1),e.id==l&&function(e){l==e.id&&d==e.outDegree&&u==e.inDegree||o(dt,Object(k.a)(Object(k.a)({},i(dt)),{},{selectedNode:e.id,emailsSent:e.outDegree,emailsReceived:e.inDegree,position:e.job}))}(e)})),s(b),n.dates[0].toString()==t[0]&&n.dates[1].toString()==t[1]||(j={graphData:n}),f(Object(A.jsx)(st.a,Object(k.a)(Object(k.a)({},j),{},{backgroundColor:"rgba(0, 0, 0, 0)",linkColor:function(e){return g(e)?"rgba(255, 0, 0, 0.5)":"rgba(85, 85, 85, ".concat(h.edgeOpacity,")")},linkDirectionalArrowLength:h.linkArrows?6:0,linkDirectionalArrowRelPos:0,linkDirectionalArrowColor:function(e){return g(e)?"#f00":"#555"},linkDirectionalParticles:h.linkParticles?1:0,linkDirectionalParticleSpeed:.005,linkDirectionalParticleWidth:function(e){return g(e)?4:0},linkOpacity:1,linkWidth:function(e){return g(e)?2:1},nodeColor:function(e){return p(e)},nodeLabel:function(e){return m(e)},nodeOpacity:1,nodeRelSize:h.nodeSize,nodeVal:function(e){return x(e)},ref:function(e){return v(e)},onNodeHover:function(e){return O(e)},onNodeClick:function(e){return y(e)}})));var g=function(e){return e.sender==l||e.receiver==l},p=function(t){var n="#067f5b";return h.colorBy&&(n=e(t.job)),t.id==c&&(n="#000"),t.id==l&&(n="#f00"),n},m=function(e){return"<span \n                            style='\n                                color: #333;\n                                text-transform: capitalize; \n                                background: #fff;\n                                padding: 3px 5px;\n                                border-radius: 3px;\n                                font-weight: bold;\n                            '\n                        >\n                            ".concat(e.id.replace("."," ").substr(0,e.id.indexOf("@")),"\n                        </span>")},x=function(e){return h.dynamicNodes?1+e.degree*h.nodeScaleFactor*3/a:1},O=function(e){(!e||e.id!=c&&e.id!=l)&&o(dt,Object(k.a)(Object(k.a)({},i(dt)),{},{hoveredNode:(null===e||void 0===e?void 0:e.id)||null}))},y=function(e){o(dt,Object(k.a)(Object(k.a)({},i(dt)),{},{selectedNode:l==e.id?null:e.id,emailsSent:l==e.id?0:e.outDegree,emailsReceived:l==e.id?0:e.inDegree,position:l==e.id?null:e.job}))},v=function(e){setTimeout((function(){e&&e.d3Force("link").distance()()!=h.edgeSize&&(e.d3Force("link").distance(h.edgeSize),e.d3ReheatSimulation())}),10)};t[0]=n.dates[0].toString(),t[1]=n.dates[1].toString()}});var a=!1,i=de.u(d.current).append("div").style("position","absolute").style("bottom","20px").style("left","20px").style("z-index","1000").style("background-color","white").style("border-radius","10px").style("padding","10px 15px 0 15px").style("width","200px").style("overflow","hidden").style("max-height","53px").style("transition","all 250ms ease-in-out 0s"),o=i.append("div").style("display","flex").style("justify-content","space-between").style("align-items","center").style("margin-bottom","10px").html("<h2 style='margin: 0;'>Legend</h2>"),r=i.append("div"),c=o.append("a").style("text-decoration","none").style("font-size","1rem").html("Show").on("click",(function(){a?(c.html("Show"),i.style("max-height","53px")):(c.html("Hide"),i.style("max-height",r.node().offsetHeight+67+"px")),a=!a})).on("mouseover",(function(){c.style("text-decoration","underline")})).on("mouseout",(function(){c.style("text-decoration","none")})),s=function(t){var n,o="",c=new Map(Object(qe.a)(t.entries()).sort()),s=Object(Ue.a)(c);try{for(s.s();!(n=s.n()).done;){var l=Object(h.a)(n.value,2),d=l[0],u=l[1];o+="<p><span style='color: ".concat(e(d),";'>&#11044</span> ").concat(d,'<span style="float: right">').concat(u,"</span></p>")}}catch(b){s.e(b)}finally{s.f()}r.html(o),a&&i.style("max-height",r.node().offsetHeight+67+"px")},l=function(){var e=d.current.offsetWidth,t=d.current.offsetHeight;f(Object(A.jsx)(st.a,{height:t,width:e}))},u=new ResizeObserver(l);return u.observe(d.current),setTimeout(l,10),function(){u.disconnect()}}),[]),Object(a.useEffect)((function(){var e={links:[],nodes:new Map};l.forEach((function(t){var n=t.fromEmail,a=t.toEmail,i=t.date,o=t.fromJobtitle,r=t.toJobtitle,c=le()(i);e.nodes.has(n)||e.nodes.set(n,{id:n,job:o}),e.nodes.has(a)||e.nodes.set(a,{id:a,job:r}),e.links.push({source:n,target:a,date:c})})),w(e)}),[l]),Object(a.useEffect)((function(){if(v){var e=new Date(le()(r.timeline).subtract(r.previousDays,"days")),t=new Date(r.timeline),n={nodes:[],links:[],maxDegree:0,dates:[e,t]},a=new Map,i=new Map;v.links.forEach((function(o){if(!(o.date<e||o.date>t)){if(!i.has(o.source)){var r=v.nodes.get(o.source);r.degree=0,r.outDegree=0,r.inDegree=0,r.links=[],r.neighbors=[],n.nodes.push(r),i.set(o.source,!0)}if(!i.has(o.target)){var c=v.nodes.get(o.target);c.degree=0,c.outDegree=0,c.inDegree=0,c.links=[],c.neighbors=[],n.nodes.push(c),i.set(o.target,!0)}a.has("".concat(o.source).concat(o.target))||(n.links.push(Object(k.a)(Object(k.a)({},o),{},{sender:o.source,receiver:o.target})),a.set("".concat(o.source).concat(o.target),!0));var s=v.nodes.get(o.source),l=v.nodes.get(o.target);s.outDegree++,s.degree++,l.inDegree++,l.degree++}})),n.links.forEach((function(e){var t={},a={};n.nodes.forEach((function(i){e.source===i.id&&(t=i),e.target===i.id&&(a=i),n.maxDegree=i.degree>n.maxDegree?i.degree:n.maxDegree})),t.neighbors.push(a),a.neighbors.push(t),t.links.push(e),a.links.push(e)})),E(n)}}),[v,r,c]),Object(a.useEffect)((function(){C&&m.update&&m.update(C,C.maxDegree,n,o)}),[C]),Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{style:{margin:"10px 20px"},children:lt}),Object(A.jsx)("div",{ref:d,style:{position:"absolute",inset:0,width:"100%",height:"100%"},children:j})]})}function ht(){var e=Object(a.useContext)(ue),t=(0,Object(h.a)(e,1)[0])("Global"),n=t.graph1,o=t.graph2,r=i.a.useContext(N),c=Object(h.a)(r,5),s=c[0],l=(c[1],c[2]),d=(c[3],function(e){switch(e){case"Hierarchical Edge Bundling":return Object(A.jsx)(Ze,{},l);case"Disjoint Force-Directed":return Object(A.jsx)($e,{},l);case"Force-Directed Graph":return Object(A.jsx)(ct,{},l);case"Arc Diagram":return Object(A.jsx)("h1",{children:"Not yet implemented!"});case"3D Force-Directed Graph":return Object(A.jsx)(ut,{},l);default:return Object(A.jsx)("h1",{children:"Set a graph type in 'General Options'"})}});return c[4]?Object(A.jsx)(x.a,{style:{flexGrow:"1",borderBottom:"1px solid rgba(124, 124, 124, 0.2)",justifyContent:"center",alignItems:"center"},children:Object(A.jsx)(Ie.a,{})}):s?Object(A.jsxs)(x.a,{style:{flexGrow:"1",borderBottom:"1px solid rgba(124, 124, 124, 0.2)"},children:[Object(A.jsxs)(O.a,{style:{position:"relative"},span:"None"!==o?12:24,id:"graph1",children:[d(n),"3D Force-Directed Graph"!==n?Object(A.jsx)(it,{id:"graph1"}):null]}),"None"!==o&&Object(A.jsxs)(O.a,{span:12,style:{borderLeft:"1px solid rgba(124, 124, 124, 0.2)",position:"relative"},id:"graph2",children:[d(o),"3D Force-Directed Graph"!==o?Object(A.jsx)(it,{id:"graph2"}):null]})]}):Object(A.jsx)(x.a,{style:{flexGrow:"1",borderBottom:"1px solid rgba(124, 124, 124, 0.2)",justifyContent:"center",alignItems:"center"},children:Object(A.jsx)(Je.a,{status:"warning",title:"Please select a dataset from the dropdown at the top right of the sidebar."})})}var bt=n(33),jt=n(190),ft=n(628),gt=n(629),pt=n(193),mt=n(630),xt=n(631),Ot=n(632),yt=n(633),vt=n(634),wt=n(635);n(589);function kt(){var e,t="Global",n=Object(a.useContext)(ue),o=Object(h.a)(n,2),r=o[0],c=o[1],s=i.a.useContext(N),l=Object(h.a)(s,1)[0],d=r(t),u=d.timeline,b=d.playing,f=d.timeframe,g=d.playbackSpeed,p=d.previousDays,m=Math.floor(le.a.duration(f[1].diff(f[0])).asDays()),O=Object(bt.a)({0:f[0].format("YYYY MMM DD")},m,f[1].format("YYYY MMM DD")),y=Object(a.useState)(!1),w=Object(h.a)(y,2),D=w[0],S=w[1],C=Object(a.useState)(u.add(10)),E=Object(h.a)(C,2),T=E[0],I=E[1],M=Object(a.useState)(p),z=Object(h.a)(M,2),F=z[0],R=z[1],B=Object(a.useState)(!0),H=Object(h.a)(B,2),G=H[0],P=H[1],V=Object(a.useState)(!1),L=Object(h.a)(V,2),Y=L[0],W=L[1],J=Object(a.useState)([]),U=Object(h.a)(J,2),q=U[0],_=U[1],K=Object(a.useRef)();Object(a.useEffect)((function(){R(31),I(T.add(31,"days"))}),[]),Object(a.useEffect)((function(){return function(){S(!0);var e=setTimeout((function(){S(!1)}),500);return function(){return clearTimeout(e)}}}),[u]);var Z=function(e){var n=le()(u);Y||n.add(e,"days");var a=F;n.isAfter(f[1])&&(n.subtract(1,"days"),a--),G&&!Y?a+=e:!G&&Y&&(a-=1*e),le()(n).subtract(a,"days").isBefore(f[0])&&a--,a<0&&(a=0),I(n),R(a),c(t,Object(k.a)(Object(k.a)({},r(t)),{},{timeline:n,previousDays:a}))};Object(a.useEffect)((function(){if(b&&0!=g){var e=setTimeout((function(){Z(Math.sign(g))}),500/Math.abs(g));return function(){return clearTimeout(e)}}}),[b,u,g,r,G,Y]),Object(a.useEffect)((function(){if(l){var e=l.sort((function(e,t){return e.date-t.date}));e=e.map((function(e){return e.date})),_(e)}}),[l]),Object(a.useEffect)((function(){K&&K.current&&(K.current.onMove=function(e,t,n,a){e.stopPropagation(),e.preventDefault();var i=this.state,o=this.props,r=o.max||100,c=o.min||0;if(n){var s=o.vertical?-t:t;s=o.reverse?-s:s;var l=r-Math.max.apply(Math,Object(qe.a)(a)),d=c-Math.min.apply(Math,Object(qe.a)(a)),u=Math.min(Math.max(s/(this.getSliderLength()/(r-c)),d),l),h=a.map((function(e){return Math.floor(Math.max(Math.min(e+u,r),c))}));i.bounds.map((function(e,t){return e===h[t]})).some((function(e){return!e}))&&this.onChange({bounds:h})}else{var b=this.calcValueByPos(t);b!==i.bounds[i.handle]&&this.moveTo(b)}}.bind(K.current))}),[K]);var Q=Object(A.jsxs)(be.b,{className:"lock",children:[Object(A.jsx)(te.a,{title:"Lock or unlock the timeline start position when playing.",children:Object(A.jsx)(v.a,{type:"link",icon:G?Object(A.jsx)(ft.a,{}):Object(A.jsx)(gt.a,{}),onClick:function(){return P(!G)},children:"Start"})}),Object(A.jsx)(te.a,{title:"Lock or unlock the timeline end position when playing.",children:Object(A.jsx)(v.a,{type:"link",icon:Y?Object(A.jsx)(ft.a,{}):Object(A.jsx)(gt.a,{}),onClick:function(){return W(!Y)},children:"End"})})]}),X=Object(A.jsx)(be.b,{className:"speed",children:Object(A.jsx)(jt.a,{trigger:"click",placement:"topRight",style:{paddingRight:20},overlay:Object(A.jsxs)(Te.a,{children:[Object(A.jsx)(Te.a.Item,{style:{textAlign:"center"},children:"Playback Speed"}),Object(A.jsx)(xe.a,{style:{width:200,margin:"15px 15px 30px 15px"},min:-4,max:4,step:.1,marks:(e={},Object(bt.a)(e,-4,"-4"),Object(bt.a)(e,0,"0"),Object(bt.a)(e,4,"4"),e),defaultValue:g,onAfterChange:function(e){c(t,Object(k.a)(Object(k.a)({},r(t)),{},{playbackSpeed:e}))}})]}),children:Object(A.jsxs)(j.a.Link,{children:[g,"x ",Object(A.jsx)(pt.a,{})]})})});return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(x.a,{style:{padding:"20px 50px 0 50px"},children:Object(A.jsx)(xe.a,{ref:K,marks:O,max:m,range:{draggableTrack:!0},value:[le()(T).diff(f[0],"days")-F,le()(T).diff(f[0],"days")],tooltipVisible:!(!D&&!b)||void 0,style:{width:"100%"},onChange:function(e){var n=le()(f[0]).add(e[1],"days");R(e[1]-e[0]),I(n),D||c(t,Object(k.a)(Object(k.a)({},r(t)),{},{previousDays:e[1]-e[0],timeline:n,playing:!1}))},onAfterChange:function(e){var n=le()(f[0]).add(e[1],"days");R(e[1]-e[0]),I(n),c(t,Object(k.a)(Object(k.a)({},r(t)),{},{previousDays:e[1]-e[0],timeline:n,playing:!1}))},tipFormatter:function(e){return le()(f[0]).add(e,"days").format("YYYY MMM DD")}})}),Object(A.jsxs)(x.a,{className:"timelineControls",justify:"center",children:[Q,Object(A.jsxs)(be.b,{className:"controls",children:[Object(A.jsx)(te.a,{placement:"topLeft",title:"Skip to previous change",children:Object(A.jsx)(v.a,{type:"primary",onClick:function(){for(var e=le()(u),n=le()(u).subtract(p,"days"),a=q.length-1;a>=0;a--){if(e.isAfter(q[a])){e=le()(q[a]);break}a>0||(e=le()(f[0]))}var i=p;G&&(i=e.diff(n,"days")),I(e),R(i),c(t,Object(k.a)(Object(k.a)({},r(t)),{},{timeline:e,previousDays:i}))},icon:Object(A.jsx)(mt.a,{style:{fontSize:18}})})}),Object(A.jsx)(te.a,{placement:"topLeft",title:"Skip backward",children:Object(A.jsx)(v.a,{type:"primary",onClick:function(){return Z(-1)},icon:Object(A.jsx)(xt.a,{})})}),Object(A.jsx)(te.a,{title:b?"Pause":"Play",children:Object(A.jsx)(v.a,{type:"primary",onClick:function(){c(t,Object(k.a)(Object(k.a)({},r(t)),{},{playing:!b}))},icon:b?Object(A.jsx)(Ot.a,{}):Object(A.jsx)(yt.a,{})})}),Object(A.jsx)(te.a,{placement:"topRight",title:"Skip forward",children:Object(A.jsx)(v.a,{type:"primary",onClick:function(){return Z(1)},icon:Object(A.jsx)(vt.a,{})})}),Object(A.jsx)(te.a,{placement:"topRight",title:"Skip to next change",children:Object(A.jsx)(v.a,{type:"primary",onClick:function(){for(var e=le()(u),n=le()(u).subtract(p,"days"),a=0;a<q.length;a++){if(e.isBefore(q[a])){e=le()(q[a]);break}a<q.length-1||(e=le()(f[1]))}var i=p;G&&(i=e.diff(n,"days")),I(e),R(i),c(t,Object(k.a)(Object(k.a)({},r(t)),{},{timeline:e,previousDays:i}))},icon:Object(A.jsx)(wt.a,{style:{fontSize:18}})})})]}),X]}),Object(A.jsxs)(x.a,{className:"timelineSecondary",justify:"space-between",children:[Q,X]})]})}var Dt=g.a.Content;function St(){return Object(A.jsx)(he,{children:Object(A.jsxs)(g.a,{className:"vis-page-container",children:[Object(A.jsx)(We,{}),Object(A.jsxs)(Dt,{children:[Object(A.jsx)(ht,{}),Object(A.jsx)(kt,{})]})]})})}var Ct=function(){var e=[];return Object(s.g)({path:"/",exact:!0})&&e.push("home"),Object(s.g)("/about")&&e.push("about"),Object(s.g)("/vis")&&e.push("visualize"),Object(s.g)("/dataUpload")&&e.push("dataUpload"),Object(A.jsxs)(T,{children:[Object(A.jsxs)(Te.a,{mode:"horizontal",selectedKeys:e,children:[Object(A.jsx)(Te.a.Item,{children:Object(A.jsx)(c.b,{to:"/",children:"Home"})},"home"),Object(A.jsx)(Te.a.Item,{children:Object(A.jsx)(c.b,{to:"/about",children:"About"})},"about"),Object(A.jsx)(Te.a.Item,{children:Object(A.jsx)(c.b,{to:"/vis",children:"Visualize"})},"visualize"),Object(A.jsx)(Te.a.Item,{children:Object(A.jsx)(c.b,{to:"/dataUpload",children:"Data Upload"})},"dataUpload")]}),Object(A.jsxs)(s.c,{children:[Object(A.jsx)(s.a,{path:"/about",children:Object(A.jsx)(H,{})}),Object(A.jsx)(s.a,{path:"/dataUpload",children:Object(A.jsx)(ce,{})}),Object(A.jsx)(s.a,{path:"/vis",children:Object(A.jsx)(St,{})}),Object(A.jsx)(s.a,{path:"/",children:Object(A.jsx)(F,{})})]})]})},Et=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function At(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(A.jsx)(i.a.StrictMode,{children:Object(A.jsx)(c.a,{basename:"/dbl-app",children:Object(A.jsx)(Ct,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dbl-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/dbl-app","/service-worker.js");Et?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):At(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):At(t,e)}))}}()}},[[590,1,2]]]);
//# sourceMappingURL=main.ab5497b9.chunk.js.map